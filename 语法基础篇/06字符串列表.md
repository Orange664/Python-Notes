####  字符串

#####  字符串编码

字符编码：本质是二进制与语言文字的一一对应关系。

字符----（翻译）----二进制

unicode	兼容万国语言

utf-8	对不同的字符用不同的长度来表示，编码的中文使用了3个字节。

gbk	用来专门解决中文编码的，双字节的。中午程序开发：使用gbk。

encode编码：将字符转换成字节流（二进制数据流）。  

```python
a = 'hello'
print(a) #hello
a1 = a.encode() #给a进行编码，把字符串转换成二进制数据流
print(a1) # b'hello'
#b'hello'形式就是字节码形式
```

decode解码：将字节流解析为字符（还原为字符串）

```python
a = 'hello'
print(a) #hello
a1 = a.encode() #给a进行编码，把字符串转换成二进制数据流
print(a1) # b'hello'
a2 = a1.decode()
print(a2) #还原成字符串
print(type(a2)) #运用type验证类型为字符串
```

#####  下标/索引

python中下标从0开始，范围是左闭右开。

```python
name = 'abcdef'
#通过索引取值
print(name[0])	#a
print(name[1])	#b
print(name[2])	#c
```

在python中不仅支持顺序索引，同时还支持倒序索引。

倒序是从-1开始

```python
name2 = 'dijwdjiwjicwiciiwih'
print(name[-1] 	#h
```

#####  字符串切片

 切片语法：[起始索引：结束索引：步长]	（范围：左闭右开，顾头不顾尾）默认步长为1

```python
name = 'class_name_hello'
print(name[6:10:1])     #name
print(name[6:10:2])     #nm
print(name[:])          #class_name_hello   没有限制即取到所有
print(name[-1:3:-1])    #倒序输出
print(name[2:30:2])     #asnm_el
print(name[2:5:-1])		#运行无结果。
#2-5表示从左向右方向，但是步长是为负则表示从右向左方向，所以两个方向冲突。
```

切片小结：

​	指定区间属于左闭右开

​	步长可以控制查找方向，步长为正，表示从左向右定位；步长为负，表示从右向左定位。

​	切片时，索引超出范围不会报错，查找范围截止至最后一位。

`print(name[-1:3:-1])    #倒序输出`

为什么终止索引 3 是正数？这是因为：

- 在 Python 中，字符串的索引既可以用正数（从左向右，从 0 开始），也可以用负数（从右向左，从 -1 开始）
- 当步长为负数（倒序）时，`start` 应该比 `end` 更靠右（数值更大），才能正确取到值
- 在这个例子中，`start=-1`（最右边），`end=3`，满足 `start` 在右侧、`end` 在左侧的条件.

简单来说，当倒序取值时，终止索引使用正数是完全允许的，只要它满足 "在起始索引左侧" 这个条件即可。Python 会自动处理正数和负数索引之间的转换。

####  字符串常见操作

######  操作

find：检测字符是否包含在字符串中

index：跟find作用一样，但是会报异常

count：返回出现次数

replace：替换

split：分割

capitalize：第一个字符大写

lower：大写字符转为小写

upper：小写字母转为大写

startswith：是否以某字符开头

endwith：是否以某字符结束

#####  查

######  find

字符串序列.find(str，开始下标，结束下标)

检测子串str是否包含在原字符串myst中，如果在则返回第一次找到的索引值，否则返回  -1

```python
a = 'hello world'
print(a.find('h'))  #0
print(a.find('hello'))  #0
print(a.find('l',1,5))  #2
```

######  index

字符串序列.index(str，开始下标，结束下标)

与find下标一样，只不过如果str不在mystr中会报一个异常

```python
mystr = 'hello world'
print(mystr.index('l',0,4))     #2
print(mystr.index('h',1))   #找不到字串会报错，起始索引为1，从1索引进行查找
```

######  count

字符串序列.count(str，开始下标，结束下标)	查找子串在原字符串中出现的次数。

```python
mystr = ('hello world')
print(mystr.count('l'))     #3
print(mystr.count('l',3))   #2
```

#####  修改

######  replace

字符串序列.replace(旧子串，新子串，替换次数)

```python
mystr = 'hello world'
print(mystr.replace('l','a'))   #heaao worad
print(mystr.replace('l','a',2))     #heaao world
```

######  split	分割

mystr.split(str，切的次数)	用str来切原字符串

```python
a = 'he,llo wo,rld'
print(a.split(','))         #['he', 'llo wo', 'rld']
print(a.split(' '))         #['he,llo', 'wo,rld']
```

###### capitalize

```python
a = 'hello world'
print(a.capitalize())	#Hello world
```

###### lower

```python
a = 'HELLo'
print(a.lower())	#hello
```

###### upper

```python
a = 'HELlo'
print(a.upper())	#HELLO
```

###### 扩展：title 	把每个单词首字母都大写

```python
a = 'hello world'
print(a.title())	#Hello World
```

##### 判断

###### islower() 	检测字符串是否都由小写字母来组成。	(True\False)

```python
str = 'hello python'
print(str.islower())	#True
```

###### isupper()	检测字符串是否都由大写字母来组成	

```python
str = 'HELLO'
print(str.isupper())	#True
```

###### isdigit()	是否是数字

```python
mystr = 'hello123'
j = 0
for i in mystr:
    if i.isdigit(): #i.isdigit()返回值为True、False，表示判断字符串的每个字符是否为数字。为真时，表示为数字，执行if里面的语句。
        j += 1
print(j)
#结果为 3
```

###### startwith

```python
a = 'hello'
print(a.startswith('h'))    #True 
```

endwith

```python
b = 'hello'
print(b.endswith('a'))      #False
```

##### 增

###### 拼接 +

```python
name1 = 'he'
name2 = 'llo'
info = name1+name2
print(info)     #hello
```

###### join

```python
a = ('hello')
print('*'.join(a))      #h*e*l*l*o
```

##### 删

###### lstrip()	#left	删除字符串左边的空白字符

```python
a = ' hello'
print(a)            
print(a.lstrip())
# hello
#hello
```

###### rstrip	#right	删除字符串右边的空白字符

###### strip 	删除字符串两端的空白字符

```python
a = '\n\t hello \t\n'
print(a)
print(a.strip())
#结果：

	 hello 	

hello
```

####  列表 	一次性存储多个数据

`li = ['a','b','c']`

###### 列表的定义：中括号包围所有的元素，每个元素间用逗号隔开

###### 特性：有序；存储多个数据；元素可以是不同类型的

```python
list1 = ['a','b','c']
print(list1[0]) #a

#   循环读取for
for i in list1:		list1是一个可迭代对象
    print(i)
#结果：
a
b
c
#循环读取 while
list1_len = len(list1)		#len  求列表的元素个数
i = 0
while i < list1_len:
    print(list1[i])		#通过下标取值
	i += 1
```

####  列表的相关操作

##### 增

###### ＋

```python
language = ['Python','C++','Java']
birthday = ['1991','1998','1995']
info = language + birthday
print(info)     #['Python', 'C++', 'Java', '1991', '1998', '1995']
```

###### insert()插入元素

语法：listname.insert(index，obj)	表示在index前插入obj这个元素

```python
l = ['Python','C++','Java']
l.insert(1,'C')     #改变的是原列表
print(l)    #['Python', 'C', 'C++', 'Java']
t = ('C#','go')
l.insert(2,t)   #把元组当作一个整体插入
print(l)    #['Python', 'C', ('C#', 'go'), 'C++', 'Java']
```

###### append()   末尾追加元素

```python
l = ['Python','C++','Java']
l.append('php')     #在原列表进行操作
print(l)        #['Python', 'C++', 'Java', 'php']
t = ('a','b','c')
l.append(t) #作为整体添加到末尾
print(l)        #['Python', 'C++', 'Java', 'php', ('a', 'b', 'c')]
```

###### extend()  有拓展之意

语法：listname.extend()在列表末尾添加obj，并且把obj中的元素拆分成单个

```python
l = ['Python','C++','Java']
t = ('a','b','c')
l.extend(t)
print(l)
```

##### 修改	本质：是赋值操作 

######  修改单个元素

```python
nums = [1,4,3,6,10,8,5]
nums[2] = -10 #通过下标访问到指定元素，然后再给该元素赋新值
print(nums)     #[1, 4, -10, 6, 10, 8, 5]
```

###### 修改一组元素

```python
nums = [1,4,3,6,10,8,5]
nums[2:5] = [10,20,30]
print(nums)
```

###### 特殊情况：对空切片赋值，对应下标前插入所有元素

```python
nums = [1,4,3,6,10,8,5]
print(nums[4:4])    #[]
nums[4:4] = [-1,-2,-3]      #从下标为4的前面插入所有元素
print(nums)     #[1, 4, 3, 6, -1, -2, -3, 10, 8, 5]
```

```python
nums = [1,4,3,6,10,8,5]
nums[1:6:2] = [-2,-2,-2]    #从1开始，步长为2，1，3，5被修改
print(nums)     #[1, -2, 3, -2, 10, -2, 5]
```

##### 删除

###### del

语法：del listname	删除整个列表

```python
s = list('hello')   #把字符串转换成列表
print(s)    #['h', 'e', 'l', 'l', 'o']
del s   #整个列表删除
print(s)    #NameError: name 's' is not defined   出错
```

del listname[index]	通过索引访问值

```python
s = [1,2,3,4]
del s[1]
print(s)        #[1, 3, 4]
```

del 删除多个值

```python
s = [1,2,3,4,5,6]
del s[2:5]
print(s)    #[1, 2, 6]
```

###### pop

listname.pop(index)	index不写，默认会删除列表中最后一个元素

```python
nums = [1,2,3,4,5,6,7,8]
nums.pop(3)
print(nums)     #[1, 2, 3, 5, 6, 7, 8]
nums.pop()
print(nums)     #[1, 2, 3, 5, 6, 7]
```

###### remove() 	根据元素值来进行删除,无则报错

```python
nums = [1,2,4,5,4,7,8]
nums.remove(2)
print(nums)     #[1, 4, 5, 4, 7, 8]
nums.remove(4)
print(nums)     #[1, 5, 4, 7, 8]    列表中有多个的时候，默认删除第一个
```

###### clear()	删除列表所有元素

```python
nums = [1,2,3,4]
nums.clear()
print(nums)     #[]
```

##### 查找

###### in 	存在，在...里面	True、False

###### not in	不在	True，否则为False

```python
list = ['tom','lucy','wilia']
name = input('需要查找的名字是：')
if name in list:
    print('找到了')
else:
    print('找不到')
```

###### count()	用来统计某个元素在列表中出现的次数

语法：listname.count(obj)	obj表示要统计的元素

count如果返回0，则表示列表中不存在这个元素-------可用count方法来判断某个元素是否存在

```python
nums = [1,2,3,4,5,6,7,2,2]
print(nums.count(2))    #3
if nums.count(100):
    print('100在列表里')
else:
    print('100不在列表里')
```

###### index	查找某个元素在列表中的位置

语法：listname.index(obj,start,end)	start	end可以不写

```python
nums = [1,2,3,4,5,5,6]
print(nums.index(3))    #2
```

##### 排序

###### reverse()	把原列表顺序倒置，逆置

```python
li1 = [1,4,3,2]
print('原列表：',li1)   #原列表： [1, 4, 3, 2]
li1.reverse()   #在原列表上修改
print('倒置后：',li1)   #倒置后： [2, 3, 4, 1]
```

###### sort()	排序，从小到大

```python
li1 = [1,4,3,2]
li1.sort()      #默认从小到大排序
print(li1)      #[1, 2, 3, 4]
li1.sort(reverse=True)      #从大到小排序，即降序
print(li1)      #[4, 3, 2, 1]
```

**`li1.sort(reverse=True)`** 	从大到小

###### sorted() 	Python的一个内建函数

```python
li1 = [1,4,3,2]
b = sorted(li1)     #默认从小到大排序，不对原列表进行修改
print(b)        #[1, 2, 3, 4]
print(li1)      #[1, 4, 3, 2]
print(sorted(li1))  #[1, 2, 3, 4]

li1.sort()
print(li1)      #[1, 2, 3, 4]
print(li1.sort())   #None
#sort() 对原表进行修改，就地排序无返回值。如果和赋值，打印等方法一起使用，结果会返回None
```

#### 列表推导式

基本写法：

[表达式 for 变量 in 列表]

[表达式 for 变量 in 列表 if 条件]

```python
li = [1,2,3,4,5,6,7,8,9]
print([i*2 for i in li])    #元素的值为表达式的值（i*2），i的取值来自于li列表
#[2, 4, 6, 8, 10, 12, 14, 16, 18]

#for循环
li2 = []
for i in li :
    li2.append(i*2)
print(li2)  #[2, 4, 6, 8, 10, 12, 14, 16, 18]
```

while：

```python
li = [1,2,3,4,5,6,7,8,9]
li2 = []
i = 0
while i <= len(li):
    if i in li:     #做判断，当i在li列表里，才添加到li2中去
        li2.append(i*2)
    i += 1
print(li2)      #[2, 4, 6, 8, 10, 12, 14, 16, 18]
```